import{p as e,i as t,c as o,r as l,a,_ as s,d as i,o as n,b as u,F as d,e as r,u as c,t as v,f,g as h,w as m,h as p,j as g,k as y,l as b,m as w,n as L,q as _,s as k}from"./vendor.d8790b21.js";const F=Array.isArray,V=Symbol(),C=Symbol(),x=Symbol(),S=Symbol(),z=(e,t)=>(t=F(t)?t:[t],(e=>{var t;return null==(t=e.prototype)?void 0:t[S]})(e)?new e(...t):e(...t)),B=e=>{const o=e[V];if(!o)throw new ReferenceError("未进行useProvider");const l=e[x]?e[C]:t(o);if(null==l)throw new ReferenceError("未在Provider的子孙组件中使用");return l},T=function(){};T.prototype[S]=!0;const U=(e,t)=>{let l=((e,t)=>{const o=localStorage.getItem(e);return o?JSON.parse(o):"function"==typeof t?t():t})(e,t);return o(((t,o)=>({get:()=>(t(),l),set(t){l=t,o(),localStorage.setItem(e,JSON.stringify(t))}})))};class j extends T{constructor(){super(),this.foodList=U("wjlFood",[]),this.choosedFoods=l([]),this.time=null,this.tableData=a((()=>{const e=[];return this.foodList.value.forEach((t=>{e.push({name:t})})),e})),this.addFoodList=e=>{this.foodList.value.includes(e)?s.warning("这样食物已经存在了哦"):(this.foodList.value=[...this.foodList.value,e],s.success("添加成功！"))},this.start=()=>{if(this.foodList.value.length<=6)return void(this.choosedFoods.value=this.foodList.value);if(0===this.foodList.value.length)return void s.warning("没有食物哦，快去添加吧");const e=new Array(this.foodList.value.length).fill(1).map(((e,t)=>t)).sort((()=>Math.random()-.5)).slice(0,6),t=this.foodList.value.filter(((t,o)=>e.includes(o)));this.choosedFoods.value=t},this.deleteFood=e=>{this.foodList.value=this.foodList.value.filter(((t,o)=>o!==e)),s.success("删除成功！")},this.editFood=(e,t)=>{this.foodList.value=this.foodList.value.map(((o,l)=>(e===l&&(o=t),o))),s.success("修改成功！")}}}const A={class:"main-container"};var E=i({setup(e){const{choosedFoods:t}=B(j);return(e,o)=>(n(),u("div",A,[(n(!0),u(d,null,r(c(t),(e=>(n(),u("div",null,v(e),1)))),256))]))}});const D={class:"dialog-footer"},I=g("取 消"),J=g("确定"),N=g("清空"),O=g("编辑"),P=g("删除");var R=i({setup(e){const{tableData:t,deleteFood:o,editFood:a,foodList:i}=B(j),d=l(!1),r=l(0),v=l(""),g=()=>{v.value?(a(r.value,v.value),d.value=!1):s.warning("请输入新的食物名称")},y=()=>{p.confirm("确定要清空食物列表吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{i.value=[],s.success("清空成功！")})).catch((()=>{}))};return(e,l)=>{const a=f("el-input"),s=f("el-button"),b=f("el-dialog"),w=f("el-table-column"),L=f("el-table");return n(),u("div",null,[h(b,{"append-to-body":"",modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=e=>d.value=e),width:"30%"},{footer:m((()=>[h("div",D,[h(s,{onClick:l[2]||(l[2]=e=>d.value=!1)},{default:m((()=>[I])),_:1}),h(s,{type:"primary",onClick:g},{default:m((()=>[J])),_:1})])])),default:m((()=>[h(a,{modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=e=>v.value=e),placeholder:"请输入新的食物名称"},null,8,["modelValue"])])),_:1},8,["modelValue"]),h(s,{type:"danger",style:{float:"right","margin-bottom":"10px"},size:"small",onClick:y,disabled:!c(i).length},{default:m((()=>[N])),_:1},8,["disabled"]),h(L,{data:c(t),height:"500",border:"",style:{width:"100%"}},{default:m((()=>[h(w,{type:"index",label:"序号",width:"100"}),h(w,{prop:"name",label:"食物名称"}),h(w,{label:"操作"},{default:m((e=>[h(s,{size:"mini",onClick:t=>{return o=e.$index,r.value=o,d.value=!0,void(v.value="");var o}},{default:m((()=>[O])),_:2},1032,["onClick"]),h(s,{size:"mini",type:"danger",onClick:t=>{return l=e.$index,void p.confirm("确定要删除这个食物吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{o(l)})).catch((()=>{}));var l}},{default:m((()=>[P])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}});const $={class:"main"},q={class:"input-container"},M=g("添加"),G=g("浏览"),H=g("start");const K=y(i({setup(t){const{addFoodList:o,start:a}=((t,o,{singleton:l=!0}={})=>{if(t[V]||(t[V]=Symbol(t.name)),l&&void 0!==t[C])return t[C];const a=z(t,o);return l&&(t[x]=!0,t[C]=a),e(t[V],a),a})(j),i=l(""),d=l(!1),r=()=>{i.value?(o(i.value),i.value=""):s.error("请输入食物名称!")};return(e,t)=>{const o=f("el-dialog"),l=f("el-input"),s=f("el-button");return n(),u("div",$,[h(o,{title:"食物列表",modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),width:"35%"},{default:m((()=>[h(R)])),_:1},8,["modelValue"]),h("div",q,[h(l,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),size:"small",placeholder:"请输入要添加的食物吧"},null,8,["modelValue"]),h(s,{size:"small",onClick:r},{default:m((()=>[M])),_:1}),h(s,{size:"small",onClick:t[3]||(t[3]=e=>d.value=!0)},{default:m((()=>[G])),_:1})]),h(E),h(s,{onClick:c(a)},{default:m((()=>[H])),_:1},8,["onClick"])])}}}));K.use(b),K.use(w),K.use(L),K.use(_),K.use(k),K.mount("#app");
