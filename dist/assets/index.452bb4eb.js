import{p as e,i as t,c as a,r as l,a as o,_ as s,d as i,o as n,b as u,e as d,t as r,u as c,f as h,w as v,g as m,h as f,j as p,k as g,l as y,m as b,n as w,q as L}from"./vendor.7e0c67fe.js";const k=Array.isArray,S=Symbol(),V=Symbol(),_=Symbol(),C=Symbol(),F=(e,t)=>(t=k(t)?t:[t],(e=>{var t;return null==(t=e.prototype)?void 0:t[C]})(e)?new e(...t):e(...t)),x=e=>{const a=e[S];if(!a)throw new ReferenceError("未进行useProvider");const l=e[_]?e[V]:t(a);if(null==l)throw new ReferenceError("未在Provider的子孙组件中使用");return l},z=function(){};z.prototype[C]=!0;const N=(e,t)=>{let l=((e,t)=>{const a=localStorage.getItem(e);return a?JSON.parse(a):"function"==typeof t?t():t})(e,t);return a(((t,a)=>({get:()=>(t(),l),set(t){l=t,a(),localStorage.setItem(e,JSON.stringify(t))}})))};class B extends z{constructor(){super(),this.foodList=N("wjlFood",[]),this.choosedFood=l(""),this.isStart=l(!1),this.time=null,this.tableData=o((()=>{const e=[];return this.foodList.value.forEach((t=>{e.push({name:t})})),e})),this.addFoodList=e=>{this.foodList.value.includes(e)?s.warning("这样食物已经存在了哦"):(this.foodList.value=[...this.foodList.value,e],s.success("添加成功！"))},this.start=()=>{1!==this.foodList.value.length?0!==this.foodList.value.length?(this.isStart.value=!0,this.time=setInterval((()=>{this.changeNum()}),100)):s.warning("没有食物哦，快去添加吧"):s.warning("就一种食物还选个啥？")},this.end=()=>{this.isStart.value=!1,clearInterval(this.time)},this.deleteFood=e=>{this.foodList.value=this.foodList.value.filter(((t,a)=>a!==e)),s.success("删除成功！")},this.editFood=(e,t)=>{this.foodList.value=this.foodList.value.map(((a,l)=>(e===l&&(a=t),a))),s.success("修改成功！")}}changeNum(){const e=this.foodList.value.length,t=(a=0,l=e,Math.floor(Math.random()*(l-a))+a);var a,l;this.foodList.value[t]===this.choosedFood.value?this.changeNum():this.choosedFood.value=this.foodList.value[t]}}const I={class:"main-container"};var T=i({setup(e){const{choosedFood:t}=x(B);return(e,a)=>(n(),u("div",I,[d("div",null,r(c(t)),1)]))}});const U={class:"dialog-footer"},j=f("取 消"),E=f("确定"),A=f("清空"),D=f("编辑"),J=f("删除");var M=i({setup(e){const{tableData:t,deleteFood:a,editFood:o,foodList:i}=x(B),r=l(!1),f=l(0),p=l(""),g=()=>{p.value?(o(f.value,p.value),r.value=!1):s.warning("请输入新的食物名称")},y=()=>{m.confirm("确定要清空食物列表吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{i.value=[],s.success("清空成功！")})).catch((()=>{}))};return(e,l)=>{const o=h("el-input"),s=h("el-button"),b=h("el-dialog"),w=h("el-table-column"),L=h("el-table");return n(),u("div",null,[d(b,{"append-to-body":"",modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value=e),width:"30%"},{footer:v((()=>[d("div",U,[d(s,{onClick:l[2]||(l[2]=e=>r.value=!1)},{default:v((()=>[j])),_:1}),d(s,{type:"primary",onClick:g},{default:v((()=>[E])),_:1})])])),default:v((()=>[d(o,{modelValue:p.value,"onUpdate:modelValue":l[1]||(l[1]=e=>p.value=e),placeholder:"请输入新的食物名称"},null,8,["modelValue"])])),_:1},8,["modelValue"]),d(s,{type:"danger",style:{float:"right","margin-bottom":"10px"},size:"small",onClick:y,disabled:!c(i).length},{default:v((()=>[A])),_:1},8,["disabled"]),d(L,{data:c(t),height:"500",border:"",style:{width:"100%"}},{default:v((()=>[d(w,{type:"index",label:"序号",width:"100"}),d(w,{prop:"name",label:"食物名称"}),d(w,{label:"操作"},{default:v((e=>[d(s,{size:"mini",onClick:t=>{return a=e.$index,f.value=a,r.value=!0,void(p.value="");var a}},{default:v((()=>[D])),_:2},1032,["onClick"]),d(s,{size:"mini",type:"danger",onClick:t=>{return l=e.$index,void m.confirm("确定要删除这个食物吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a(l)})).catch((()=>{}));var l}},{default:v((()=>[J])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}});const O={class:"main"},P=d("header",null,"今天吃什么？",-1),R={class:"input-container"},$=f("添加"),q=f("浏览");const G=p(i({setup(t){const{addFoodList:a,isStart:o,start:i,end:r}=((t,a,{singleton:l=!0}={})=>{if(t[S]||(t[S]=Symbol(t.name)),l&&void 0!==t[V])return t[V];const o=F(t,a);return l&&(t[_]=!0,t[V]=o),e(t[S],o),o})(B),m=l(""),f=l(!1),p=()=>{m.value?(a(m.value),m.value=""):s.error("请输入食物名称!")};return(e,t)=>{const a=h("el-dialog"),l=h("el-input"),s=h("el-button");return n(),u("div",O,[d(a,{title:"食物列表",modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),width:"35%"},{default:v((()=>[d(M)])),_:1},8,["modelValue"]),P,d("div",R,[d(l,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),size:"small",placeholder:"请输入要添加的食物吧"},null,8,["modelValue"]),d(s,{size:"small",onClick:p},{default:v((()=>[$])),_:1}),d(s,{size:"small",onClick:t[3]||(t[3]=e=>f.value=!0)},{default:v((()=>[q])),_:1})]),d(T),c(o)?(n(),u("div",{key:1,class:"btn",onClick:t[5]||(t[5]=(...e)=>c(r)&&c(r)(...e))},"stop")):(n(),u("div",{key:0,class:"btn",onClick:t[4]||(t[4]=(...e)=>c(i)&&c(i)(...e))},"start"))])}}}));G.use(g),G.use(y),G.use(b),G.use(w),G.use(L),G.mount("#app");
