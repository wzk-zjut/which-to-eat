import{p as e,i as t,c as a,r as l,a as o,_ as s,d as i,o as n,b as u,e as d,t as r,u as c,f as v,w as h,g as m,h as f,j as p,k as g,l as y,m as b,n as w,q as L}from"./vendor.887da323.js";const k=Array.isArray,S=Symbol(),V=Symbol(),F=Symbol(),_=Symbol(),C=(e,t)=>(t=k(t)?t:[t],(e=>{var t;return null==(t=e.prototype)?void 0:t[_]})(e)?new e(...t):e(...t)),x=e=>{const a=e[S];if(!a)throw new ReferenceError("未进行useProvider");const l=e[F]?e[V]:t(a);if(null==l)throw new ReferenceError("未在Provider的子孙组件中使用");return l},z=function(){};z.prototype[_]=!0;const N=(e,t)=>{let l=((e,t)=>{const a=localStorage.getItem(e);return a?JSON.parse(a):"function"==typeof t?t():t})(e,t);return a(((t,a)=>({get:()=>(t(),l),set(t){l=t,a(),localStorage.setItem(e,JSON.stringify(t))}})))};class I extends z{constructor(){super(),this.foodList=N("wjlFood",[]),this.choosedFood=l(""),this.isStart=l(!1),this.time=null,this.tableData=o((()=>{const e=[];return this.foodList.value.forEach((t=>{e.push({name:t})})),e})),this.addFoodList=e=>{this.foodList.value.includes(e)?s.warning("这样食物已经存在了哦"):(this.foodList.value=[...this.foodList.value,e],s.success("添加成功！"))},this.start=()=>{1!==this.foodList.value.length?0!==this.foodList.value.length?(this.isStart.value=!0,this.time=setInterval((()=>{this.changeNum()}),100)):s.warning("没有食物哦，快去添加吧"):s.warning("就一种食物还选个啥？")},this.end=()=>{this.isStart.value=!1,clearInterval(this.time)},this.deleteFood=e=>{this.foodList.value=this.foodList.value.filter(((t,a)=>a!==e)),s.success("删除成功！")},this.editFood=(e,t)=>{this.foodList.value=this.foodList.value.map(((a,l)=>(e===l&&(a=t),a))),s.success("修改成功！")}}changeNum(){const e=this.foodList.value.length,t=(a=0,l=e,Math.floor(Math.random()*(l-a))+a);var a,l;this.foodList.value[t]===this.choosedFood.value?this.changeNum():this.choosedFood.value=this.foodList.value[t]}}const U={class:"main-container"};var j=i({setup(e){const{choosedFood:t}=x(I);return(e,a)=>(n(),u("div",U,[d("div",null,r(c(t)),1)]))}});const E={class:"dialog-footer"},A=m("取 消"),B=m("确定"),D=m("编辑"),J=m("删除");var M=i({setup(e){const{tableData:t,deleteFood:a,editFood:o}=x(I),i=l(!1),r=l(0),m=l(""),p=()=>{m.value?(o(r.value,m.value),i.value=!1):s.warning("请输入新的食物名称")};return(e,l)=>{const o=v("el-input"),s=v("el-button"),g=v("el-dialog"),y=v("el-table-column"),b=v("el-table");return n(),u("div",null,[d(g,{"append-to-body":"",modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value=e),width:"30%"},{footer:h((()=>[d("div",E,[d(s,{onClick:l[2]||(l[2]=e=>i.value=!1)},{default:h((()=>[A])),_:1}),d(s,{type:"primary",onClick:p},{default:h((()=>[B])),_:1})])])),default:h((()=>[d(o,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),placeholder:"请输入新的食物名称"},null,8,["modelValue"])])),_:1},8,["modelValue"]),d(b,{data:c(t),height:"500",border:"",style:{width:"100%"}},{default:h((()=>[d(y,{type:"index",label:"序号",width:"100"}),d(y,{prop:"name",label:"食物名称"}),d(y,{label:"操作"},{default:h((e=>[d(s,{size:"mini",onClick:t=>{return a=e.$index,r.value=a,i.value=!0,void(m.value="");var a}},{default:h((()=>[D])),_:2},1032,["onClick"]),d(s,{size:"mini",type:"danger",onClick:t=>{return l=e.$index,void f.confirm("确定要删除这个食物吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a(l)})).catch((()=>{}));var l}},{default:h((()=>[J])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}});const O={class:"main"},P=d("header",null,"今天吃什么？",-1),R={class:"input-container"},T=m("添加"),$=m("浏览");const q=p(i({setup(t){const{addFoodList:a,isStart:o,start:i,end:r}=((t,a,{singleton:l=!0}={})=>{if(t[S]||(t[S]=Symbol(t.name)),l&&void 0!==t[V])return t[V];const o=C(t,a);return l&&(t[F]=!0,t[V]=o),e(t[S],o),o})(I),m=l(""),f=l(!1),p=()=>{m.value?(a(m.value),m.value=""):s.error("请输入食物名称!")};return(e,t)=>{const a=v("el-dialog"),l=v("el-input"),s=v("el-button");return n(),u("div",O,[d(a,{title:"食物列表",modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),width:"35%"},{default:h((()=>[d(M)])),_:1},8,["modelValue"]),P,d("div",R,[d(l,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),size:"small",placeholder:"请输入要添加的食物吧"},null,8,["modelValue"]),d(s,{size:"small",onClick:p},{default:h((()=>[T])),_:1}),d(s,{size:"small",onClick:t[3]||(t[3]=e=>f.value=!0)},{default:h((()=>[$])),_:1})]),d(j),c(o)?(n(),u("div",{key:1,class:"btn",onClick:t[5]||(t[5]=(...e)=>c(r)&&c(r)(...e))},"stop")):(n(),u("div",{key:0,class:"btn",onClick:t[4]||(t[4]=(...e)=>c(i)&&c(i)(...e))},"start"))])}}}));q.use(g),q.use(y),q.use(b),q.use(w),q.use(L),q.mount("#app");
